declare
  cursor calculation_query is
  select users.user_name, (cost_per_month * MONTHS_BETWEEN(valid_through, sysdate)) calc
  from coverages, users;
  
  calculated calculation_query%ROWTYPE;
  
  counts number;
  calc number;
  summed number;
  
begin
	select
	count(users.user_name)
	into counts
	from users;
	
	select sum(cost_per_month)
	into summed
	from coverages;
	
	for calculated in calculation_query loop
		dbms_output.put_line(calculated.user_name || ' ' || counts || ' '|| calculated.calc || ' ' || summed);
	end loop;
end; 

/*
sager8@gmail.com 4 3387.807627688172043010752688172043010753 675
sager8@gmail.com 4 3175.615255376344086021505376344086021505 675
sager8@gmail.com 4 1163.422883064516129032258064516129032258 675
sager8@gmail.com 4 32857.3266969086021505376344086021505376 675
sager8@gmail.com 4 109551.230510752688172043010752688172043 675
busmith@helena 4 3387.807627688172043010752688172043010753 675
busmith@helena 4 3175.615255376344086021505376344086021505 675
busmith@helena 4 1163.422883064516129032258064516129032258 675
busmith@helena 4 32857.3266969086021505376344086021505376 675
busmith@helena 4 109551.230510752688172043010752688172043 675
troutslayer8@q.com 4 3387.807627688172043010752688172043010753 675
troutslayer8@q.com 4 3175.615255376344086021505376344086021505 675
troutslayer8@q.com 4 1163.422883064516129032258064516129032258 675
troutslayer8@q.com 4 32857.3266969086021505376344086021505376 675
troutslayer8@q.com 4 109551.230510752688172043010752688172043 675
leopard@gmail.com 4 3387.807627688172043010752688172043010753 675
leopard@gmail.com 4 3175.615255376344086021505376344086021505 675
leopard@gmail.com 4 1163.422883064516129032258064516129032258 675
leopard@gmail.com 4 32857.3266969086021505376344086021505376 675
leopard@gmail.com 4 109551.230510752688172043010752688172043 675*/